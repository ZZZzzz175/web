<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>留言板</title>
		
		<link href="css/liuyanban.css" type="text/css" rel="stylesheet" /> 
		
		<script type="text/javascript">
			function del() {
				var tr = this.parentNode.parentNode;
				var name = tr.getElementsByTagName("td")[0].innerHTML;
				var flag = confirm("确认要删除" + name + "吗"); //confirm有返回值，确认为true和取消为false

				if (flag) //如果点击确认则删除tr
					tr.parentNode.removeChild(tr);
				//return false;
			}
			window.onload = function() {
				var alla = document.getElementsByTagName("a");
				//为每一个超链接都绑定一个单击响应事件（遍历）
				for (var i = 0; i < alla.length; i++) {
					alla[i].onclick = del;
				}

				var btn = document.getElementById("addEmpButton");
				//点击响应事件
				btn.onclick = function() {
					//获取用户添加的员工信息（获取员工姓名）
					var name = document.getElementById("empName").value;
					//获取员工的邮箱
					var email = document.getElementById("email").value;
					//获取员工工资
					var salary = document.getElementById("salary").value;

					//需要将获取到的信息保存到tr中
					//创建一个tr
					var tr = document.createElement("tr");
					//设置tr里的内容
					tr.innerHTML = "<td>" + name + "</td>" + "<td>" + email + "</td>" + "<td>" + salary + "</td>" +
						"<td><a href='javascript:;'>delete</a></td>";
					//获取tr中的a
					var a = tr.getElementsByTagName("a")[0];
					//绑定单击响应函数
					a.onclick = del;
					//获取table
					var employeeTb = document.getElementById("employeeTable");
					//获取tbody
					var tbody = employeeTb.getElementsByTagName("tbody")[0];
					//将tr添加到table中
					tbody.appendChild(tr);
				};
			};
		</script>
	</head>
	<body>
		<h1>留言板</h1>
		<table id="employeeTable" border="1px">
			<tr>
				<th>用户名</th>
				<th>联系方式</th>
				<th>留言内容</th>
				<th>&nbsp;</th>
			</tr>
			<tr>
				<td>Tom</td>
				<td>tom@tom.com</td>
				<td>新闻报道很及时，比赛更新也很迅速！</td>
				<td><a href="javascript:;">delete</a></td>
			</tr>
			<tr>
				<td>Jeery</td>
				<td>jeery@jerry.com</td>
				<td>感觉还缺少一些功能，像加好友啊这些的。。</td>
				<td><a href="javascript:;">delete</a></td>
			</tr>
			<tr>
				<td>Bob</td>
				<td>bob@bob.com</td>
				<td>网页功能有点单一了，只有篮球，什么时候补充别的啊？</td>
				<td><a href="javascript:;">delete</a></td>
			</tr>
		</table>
		<div id="formDiv">
			<h4>添加留言</h4>
			<table>
				<tr>
					<td class="word">用户名:</td>
					<td class="inp"><input type="text" name="empName" id="empName" /></td>
				</tr>
				<tr>
					<td class="word">联系方式:</td>
					<td class="inp"><input type="text" name="email" id="email" /></td>
				</tr>
				<tr>
					<td class="word">留言内容:</td>
					<td class="inp"><input type="text" name="salary" id="salary" /></td>
				</tr>
				<tr>
					<td colspan="2" align="center"><button id="addEmpButton" value="abc">submit</button></td>
				</tr>
			</table>
		</div>
	</body>
</html>